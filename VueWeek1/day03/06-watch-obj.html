<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>


	<div id="app">
		<input type="text" v-model="msg">
		{{msg}}

		<hr>	
		<div>watch</div>
		<input type="text" v-model="person.firstname">
		<br>
		<input type="text" v-model="person.lastname">
		<br>
		<input type="text" v-model="person.fullname">


		{{person.firstname}}


	</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script type="text/javascript">
	
	new Vue({
		el:'#app',
		data:{
			msg:'hahha',
			person:{
				firstname:'young',
				lastname:'zlin',
				fullname:'youngzlin'
			}
		},
		watch:{
			// person(){  
				//如果person 中firstname/lastname/fullname 发生改变都不触发这个监听器 因为这是一个对象
			// 	console.log('aaaa')
			// }

			person:{
				handler:function(newval,oldval){ //监听对象是拿不到之前的值的
					// console.log('aaaa')
					console.log(newval)
					this.person.fullname = newval.firstname+newval.lastname
				},
				deep:true, // 只要加上这个属性才会被深度监听
				immediate: true // 主动触发一次侦听函数
			}
		}
	})
</script>
</body>
</html>